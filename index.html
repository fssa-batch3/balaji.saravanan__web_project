<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="../../assets/css/main.css" rel="stylesheet">

    <link rel="icon" type="image/jpg" sizes="60x32" href="../../assets/images/icons/p logo.jpg">

    <title>politifact</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Sans+Tamil:wght@200;300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="assets/css/footer.css">
    <style>
        .news {
            display: flex;
            flex-direction: row;
            flex-wrap: nowrap;
            
            gap: 30px;
            overflow-x: scroll;

        }

        .news::-webkit-scrollbar {
            display: none;
        }



        .h_100_1 {
            width: 350px;
            border: 1px solid #ffffffff;
            border-radius: 5px;
            box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;
            border-radius: 7px;

        }

        .card-img-top {
            height: 200px;
            object-fit: cover;
            width: 300px;
            padding: 10px;

        }

        .card-body {
            padding: 10px;
        }

        .card-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .card-text {
            font-size: 14px;
            margin-bottom: 10px;
            text-align: justify;
        }

        .card span {
            display: block;
            font-size: 12px;
        }

        .card span p {
            margin: 0;
        }

        .card span b {
            font-weight: bold;
        }

        */
    </style>

</head>

<body>

    <!-- background vidieo -->

    <div class="headvideo">

        <video autoplay muted loop id="myVideo">

            <source src="../../assets/images/essecial/Flag - 117755.mp4" type="video/mp4">
            <track default>
        </video>

    </div>

    <!-- navbar all -->
    <!-- section1 -->

    <div class="section1 container">

        <h1 class="h1 fs-3 fw-bolder text-center lh-base p-5">
            சுதந்திரமாக வாழ்வது மனிதனின் உரிமை. <br>அதுபோலவே மற்றவர்களைச் சார்ந்து வாழ்வது அவன் கடமை.
        </h1>

        <p class="lh-lg fs-6 fw-bolder text-center">
            தற்போதைய நிலையில் இருந்து உண்மையான மாற்றம் ஒரு<br> அரசியல்வாதியைத் தேர்ந்தெடுப்பதில் இருந்து ஒருபோதும்
            வராது
            - குறிப்பாக அதை வழிநடத்துபவர் அல்ல.<br>
            அந்த நிலையை நிலைநிறுத்த அர்ப்பணிக்கப்பட்ட அந்தஸ்து கட்சி.
        </p>

        <button type="button" class="btn btn-outline-dark ">
            <a class="text-center text-decoration-none" href="../your opinion/your opnion.html">தங்களது
                கருத்து</a></button>

    </div>

    <!-- section2 -->

    <div class="section2 d-flex flex-column justify-content-center align-items-center">

        <h1 class="h1 text-center fs-5">அரசியலுக்கு வரவேற்கிறோம்</h1>

        <img src="../../assets/images/essecial/Capture.PNG" class=" decoration img-fluid" alt="">

        <div class="box d-flex">

            <div class="content1 d-flex justify-content-center align-items-center flex-column">

                <h2 class="h1">அரசியல்</h2>

                <p class="p-3">
                    பரஸ்பர சண்டை சச்சரவுகளைக் களைந்து, உயர்ந்தவர் தாழ்ந்தவர் என்ற வேறுபாட்டைக் களைந்து சமத்துவ
                    உணர்வை
                    வளர்த்து, தீண்டாமையை ஒழிக்க வேண்டும். ஆங்கிலேயர் ஆட்சிக்கு முன் இருந்த சுயராஜ்ஜியத்தை நாம்
                    மீட்டெடுக்க வேண்டும். அதே தந்தையின் குழந்தைகளை நாம் விரும்ப வேண்டும்.
                </p>

            </div>

            <div class="sideimage">

                <img src="../../assets/images/essecial/motivation.jpg" class="img-fluid" alt="error image">

            </div>

        </div>

    </div>

    <div class="image_container">

    </div>

    <!-- section3 -->

    <div class="section3">

        <div class="content d-flex flex-column justify-content-center align-items-center p-5">

            <p class="h4 fs-5 text-center text-danger fw-bolder lh-base">
                எங்கள் பிரச்சாரம் இயக்கப்படுகிறது<br>
                உங்களைப் போன்ற ஆதரவாளர்களின் பங்களிப்புகளால்
            </p>

            <hr>

            <h1 class="h2 fs-4 text-center text-dark fw-bold pb-5">
                <span>ஒரு தன்னார்வலராக</span> மாறுங்கள்
            </h1>

            <h2 class="h2 fs-6 text-center text-dark lh-base pb-3">
                நீங்கள் அரசியலில் ஆர்வம் காட்டவில்லை என்பதற்காக<br>
                நீங்கள் அரசாங்கத்தை மாற்ற விரும்புகிறீர்கள்
                என்று
                அர்த்தமல்ல.
            </h2>
            <button type="button" class="btn btn-outline-dark p-2 ">
                <a class="text-center text-decoration-none" href="../../index.html">இப்போது சேரவும்</a></button>

        </div>

        <!-- section4 -->

        <div class="section4 d-flex justify-content-between">

            <div class="num1">
                <h1 class="h1 fs-2 text-center pb-3">0k</h1>
                <p class="text-center text-uppercase">தன்னார்வலர்</p>
            </div>

            <hr class="border border-danger border-2 opacity-50">

            <div class="num1 ">
                <h1 class="h1 fs-1 text-center pb-3">131</h1>
                <p class="text-center text-uppercase">இப்போது முகாம்</p>
            </div>

            <hr class="border border-danger border-2 opacity-50">

            <div class="num1">
                <h1 class="h1 fs-1 text-center pb-3">612</h1>
                <p class="text-center text-uppercase">பகுதி கவரேஜ்</p>
            </div>

            <hr class="project border border-danger border-2 opacity-50">

            <div class="project num1">
                <h1 class="h1 fs-1 text-center pb-3">2</h1>
                <p class="text-center text-uppercase">
                    திட்டம் முடிந்தது</p>
            </div>

        </div>

    </div>

    <!-- section5 -->

    <div class="section5">

        <h2 class="head">சமீபத்திய அரசியல் செய்திகள்</h2>

        <div class="news">



        </div>
    </div>

    <script>


        const API_KEY = `317a06010b8f49a4a08e3bb54667ec58`;

        document.addEventListener('DOMContentLoaded', function () {
            loadNewsData("Tamil nadu Politics");
        });

        let date = new Date().getDate()
        let month = new Date().getMonth()
        let yr = new Date().getFullYear()

        // const loadNewsData = async searchText => {
            // const url = `https://newsapi.org/v2/everything?q=${searchText}&from=${yr}-0${month}-${date}&sortBy=publishedAt&apiKey=${API_KEY}`;
            // const res = await fetch(url);
            // const data = await res.json();
            // console.log(data.articles)
            // data.articles.sort();
            function loadNewsData(text){
                fetch(`https://newsapi.org/v2/everything?q=${text}&from=${yr}-0${month}-${date}&sortBy=publishedAt&apiKey=${API_KEY}`).then((response)=> {return response.json()}).then((data)=>{
            // console.log(data.articles)
            displayNewsData(data.articles);
         })
            }
            
            // displayNewsData(data.articles);
        // }
         

        const displayNewsData = articles => {
            const newsDiv = document.querySelector('.news');
       console.log(articles)
            articles.forEach(article => {
                const { author, description, publishedAt, title, url, urlToImage } = article;



                const split = publishedAt.split('T');
                const time = split[1];
                const onlyTime = time.split('Z');

                const div = document.createElement('div');
                div.classList.add('h_100_1');
                div.innerHTML = `
            <img src="${urlToImage ? urlToImage : 'No image found'}" class="card-img-top" alt="">
            <div class="card-body">
                <span><p><b>Date: </b> ${split[0]} at ${onlyTime[0]}</p></span>
                <h5 class="card-title">${title}</h5>
                <p class="card-text">${description}</p>
            </div>
        `;

                newsDiv.appendChild(div);
            });

            if (localStorage.getItem("language") === "tamil") {
                const targetLanguage = "ta";
                const walker = document.createTreeWalker(
                    newsDiv,
                    NodeFilter.SHOW_TEXT,
                    { acceptNode: node => /\S/.test(node.nodeValue) }
                );

                while (walker.nextNode()) {
                    const node = walker.currentNode;
                    const text = node.nodeValue.trim();
                    const translateUrl = `https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=${targetLanguage}&dt=t&q=${text}`;
                    fetch(translateUrl)
                        .then(response => response.json())
                        .then(data => {
                            const translatedText = data[0][0][0];
                            node.textContent = node.textContent.replace(text, translatedText);
                        })
                        .catch(error => console.error(error));
                }
            }
        }



    </script>

    <!-- footer  section-->

    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>

    <script src="main.js"></script>

</body>

</html>