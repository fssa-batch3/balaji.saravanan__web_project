<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="../../assets/css/main.css" rel="stylesheet">
    <!-- <link rel="stylesheet" href="../../assets/css/responsive.css" type="text/css"> -->
    <link rel="icon" type="image/jpg" sizes="60x32" href="../../assets/images/icons.p logo.jpg">

    <title>pastleader</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <link rel="stylesheet" href="../../assets/css/footer.css">

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        table button {
            background-image: linear-gradient(to right top, #abc2e4, #92cef0, #75dbf0, #67e5e2, #79edc8);
            color: #fff;
            font-size: 16px;
            font-weight: bold;
            padding: 8px 10px;
            border: none;
            border-radius: 5px;
            text-align: center;
            text-decoration: none;
            cursor: pointer;
            transition: background-color 0.3s ease;
            display: flex;
            flex-direction: column;

        }

        table button:hover {
            background-color: #0062cc;
        }

        #head_tamil {
            position: sticky;
            top: 50px;
            z-index: 10;
        }

        #chartCanvas {

            width: 650px;
            margin: 0 auto;
        }

        .piechart_heading {
            text-align: center;
            font-weight: 700;
            font-size: 18px;
            color: indianred;

        }

        fieldset {
            padding: 0;
            margin: 0;
            border: 0;
            max-width: 340px;
            border-radius: 20px;
            width: 100%;
            position: sticky;
            top: 50px;
        }

        legend {
            font-size: 22px;
            font-weight: 600;
            color: #191919;
            margin: 0;
            background: #edf4fe;
            width: 100%;
            padding: 20px;
            box-sizing: border-box;
            border-radius: 10px 10px 0 0;
            border: 2px solid #3a88f6;
            display: flex;
        }

        fieldset label {
            font-weight: 300;
            font-size: 16px;
            cursor: pointer;
            display: flex;
            align-items: center;
            flex: 1;
            box-sizing: border-box;
            display: flex;
            padding: 20px 20px 20px 50px;
            font-weight: 500;
            color: #191919;
            -webkit-tap-highlight-color: transparent;
        }

        fieldset input[type="radio"] {
            position: relative;
            appearance: none;
            -webkit-appearance: none;
            transition: linear 0.8s;
            height: 0;
            width: 0;
            -webkit-tap-highlight-color: transparent;
        }

        fieldset input[type="radio"]:after {
            content: "";
            position: absolute;
            height: 16px;
            width: 16px;
            top: -10.5px;
            left: -30px;
            border-radius: 20px;
            border: 2px solid #3a88f6;
            transition: linear 0.2s;
            cursor: pointer;
        }

        fieldset input[type="radio"]:checked:after {
            content: "";
            position: absolute;
            height: 16px;
            width: 16px;
            background: #3a88f6;
            transition: linear 0.2s;
            cursor: pointer;
        }

        fieldset input[type="radio"]:checked:before {
            content: "";
            position: absolute;
            height: 8px;
            width: 8px;
            border-radius: 4px;
            background: #fff;
            left: -24px;
            top: -4.5px;
            z-index: 1;
            cursor: pointer;
        }

        .radio-item-container {
            display: flex;
            flex-direction: column;
            border: 2px solid #3a88f6;
            border-top: 0;
            background: #fff;
            border-radius: 0 0 10px 10px;
            padding: 10px 0;
        }

        .radio-item {
            display: flex;
            position: relative;
        }

        .icon {
            font-size: 24px;
            position: absolute;
            right: 26px;
            top: 11px;
            transition: linear 0.3s;
        }

        fieldset input[type="radio"]:checked+span>.icon {
            transform: scale(1.3);
            color: red;
        }
    </style>

</head>

<body>
    <p class="piechart_heading">தமிழக கட்சிகளில் எத்தனை முறை வெற்றி பெறுகிறது என்பதை இது காட்டுகிறது</p>
    <canvas id="chartCanvas"></canvas>


    <div class="pastleaders">
        <h1>தமிழ்நாட்டு முதலமைச்சர்களின் பட்டியல்</h1>

        <p>இந்திய அரசியலில் தமிழ்நாடு மாநிலம் எப்போதும் முக்கியப் பங்காற்றுகிறது. இந்த மாநிலத்தின் தலைவர்கள் அதன்
            குடிமக்கள் அனைவருக்கும் நல்வாழ்வை உறுதிப்படுத்த அயராது உழைத்துள்ளனர்.</p>
        <div class="pastleaderside">

            <fieldset>
                <legend>Choose a sort</legend>
                <div class="radio-item-container">
                    <div class="radio-item">
                        <label for="vanilla" id="sortName">
                            <input type="radio" id="vanilla" name="flavor" value="vanilla">
                            <span>Sort Name<span class="icon">A-Z</span> </span>
                        </label>
                    </div>
                    <div class="radio-item">
                        <label for="vanilla" id="sortName1">
                            <input type="radio" id="vanilla" name="flavor" value="vanilla">
                            <span>Sort Name<span class="icon">Z-A</span> </span>
                        </label>
                    </div>

                    <div class="radio-item">
                        <label for="chocolate" id="sort-date1">
                            <input type="radio" id="chocolate" name="flavor" value="chocolate">
                            <span>Sort Date<span class="icon">1-9</span></span></label>
                    </div>

                    <div class="radio-item">
                        <label for="strawberry" id="sort-date">
                            <input type="radio" id="strawberry" name="flavor" value="strawberry">
                            <span>Sort Date<span class="icon">9-1</span></span></label>
                    </div>
                </div>
            </fieldset>
            <table class="table bitmap" id="my-table">
                <tr id="head_tamil">

                    <th scope="col">வா.எண்</th>
                    <th scope="col">முதல்வர்</th>
                    <th class="date" scope="col">இருந்து</th>
                    <th class="date" scope="col">வரை</th>
                    <th scope="col">கட்சி பெயர்</th>

                </tr>

                <tbody class="table_body">

                </tbody>

            </table>
        </div>

    </div>


    <!-- footer  section-->

    <script>
        const mlaDetails = JSON.parse(localStorage.getItem("past_leader"));

        // Extract party names and count their occurrences
        const partyCounts = {};
        mlaDetails.forEach(mla => {
            const party = mla.party_name;
            partyCounts[party] = (partyCounts[party] || 0) + 1;
        });

        // Convert party counts to chart data format
        const chartData = Object.entries(partyCounts).map(([party, count]) => ({
            party,
            count
        }));

        // Generate random colors for chart slices
        const colors = generateRandomColors(chartData.length);

        // Create pie chart

        const ctx = document.getElementById("chartCanvas").getContext("2d");
        new Chart(ctx, {
            type: "pie",
            data: {
                labels: chartData.map(data => data.party),
                datasets: [{
                    data: chartData.map(data => data.count),
                    backgroundColor: colors,
                    hoverBackgroundColor: colors
                }]
            },
            options: {
                plugins: {
                    legend: {
                        position: "left", // Adjust the position to your preference (e.g., "left", "top", "bottom")
                        align: "start", // Align the legend text to the start of the line
                    },
                },
            },
        });

        // Function to generate random colors
        function generateRandomColors(numColors) {
            const colors = [];
            for (let i = 0; i < numColors; i++) {
                const color = "#" + Math.floor(Math.random() * 16777215).toString(16);
                colors.push(color);
            }
            return colors;
        }
    </script>

    <script src="../../main.js"></script>

    <script src="../../assets/javascript/past_leaders.js"></script>
    <!-- script for bootstrap -->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- script for bootstrap -->

    <!-- <script src="../../assets/javascript/translate.js"></script> -->

</body>

</html>